<div class="max-w-xl mx-auto bg-white p-6 rounded-lg shadow-lg">
  <h2 class="text-2xl font-bold mb-6 text-center">Crear Publicación</h2>

  <form (submit)="onSubmit()" class="space-y-6">
    <!-- Descripción -->
    <div>
      <label for="descripcion" class="block text-sm font-medium text-gray-700">Descripción</label>
      <textarea id="descripcion" [(ngModel)]="descripcion" name="descripcion" rows="3"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                placeholder="Escribe una descripción..."></textarea>
    </div>

    <!-- Seleccionar archivo -->
    <div>
      <label for="file" class="block text-sm font-medium text-gray-700">Seleccionar Imagen</label>
      <input type="file" id="file" (change)="onFileSelected($event)"
             class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none focus:border-blue-500 focus:ring-blue-500">
      <p class="mt-1 text-sm text-gray-500">Una imagen de perfil es útil para confirmar que estás logueado en tu cuenta</p>
    </div>

    <!-- Selección de medallas -->
    <div>
      <label for="medallas" class="block text-sm font-medium text-gray-700">Seleccionar Medalla</label>
      <select id="medallas" [(ngModel)]="medallaSeleccionada" name="medalla" (change)="seleccionarMedalla($event)"
              class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
        <option value="" disabled selected>Seleccione una medalla</option>
        <option *ngFor="let medalla of medallas" [value]="medalla.id">
          {{ medalla.nombre }} ({{ medalla.aplausos }} aplausos)
        </option>
      </select>
    </div>

    <!-- Mostrar la medalla seleccionada -->
    <div *ngIf="medallaSeleccionada" class="text-center mt-4">
      <p>Medalla seleccionada: {{ nombreMedallaSeleccionada }}</p>
    </div>

    <!-- Botón de enviar -->
    <div class="text-center">
      <button type="submit"
              class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
        Publicar
      </button>
    </div>
  </form>

  <!-- Vista previa de la imagen -->
  <div *ngIf="imageUrl" class="mt-6">
    <h3 class="text-lg font-medium text-gray-700">Vista previa:</h3>
    <img [src]="imageUrl" alt="Vista previa de la imagen seleccionada" class="mt-4 max-h-64 object-cover rounded-lg shadow-md">
  </div>
</div>
